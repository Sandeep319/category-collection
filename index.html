<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Vue</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" />
		<link rel="stylesheet" href="styles.css">
		<style id="customStyle"></style>
	</head>
	<body>
		<div id="main_wrapper">
			<div id="add_collection" class="modal fade" role="dialog">
			  <div class="modal-dialog modal-lg">
				<div class="modal-content">
				  <div class="modal-header">
					<h4 class="modal-title">Add Collection</h4>
					<button type="button" class="close" data-dismiss="modal">&times;</button>
				  </div>
				  <div class="modal-body">
					<form method="post" action="" @submit.prevent="preventSubmit">
						<div class="form-group">
							<input class="form-control" type="text" name="title" v-model="newTitle" placeholder="Title">
						</div>
						<div class="form-group">
							<textarea class="form-control" name="description" v-model="newDescription" placeholder="Description"></textarea>
						</div>
						<div class="form-group">
							<input class="form-control capitalize_text" name="type" v-model="newType" placeholder="Type">
							<ul class="collections_list">
								<li class="capitalize_text" v-for="(uniqueItem, index) in uniqueItems" v-on:click="newType = uniqueItem">{{ uniqueItem }}</li>
							</ul>
						</div>
						<div class="alert_message error" v-show="error">Oops... All fields are required.</div>
						<div>
							<button class="btn btn-primary btn_control" v-on:click="addCollection">Add</button>
						</div>
					</form>
				  </div>
				</div>
			  </div>
			</div>
			<div id="edit_collection" class="modal fade" role="dialog">
			  <div class="modal-dialog modal-lg">
				<div class="modal-content">
				  <div class="modal-header">
					<h4 class="modal-title">Edit Collection</h4>
					<button type="button" class="close" data-dismiss="modal">&times;</button>
				  </div>
				  <div class="modal-body">
					<form method="post" action="" @submit.prevent="preventSubmit">
						<div class="form-group">
							<input class="form-control" type="text" name="title" v-model="editTitle" placeholder="Title">
						</div>
						<div class="form-group">
							<textarea class="form-control" name="description" v-model="editDescription" placeholder="Description"></textarea>
						</div>
						<div class="form-group">
							<input class="form-control capitalize_text" type="text" name="type" v-model="editType" placeholder="Type">
							<ul class="collections_list">
								<li class="capitalize_text" v-for="(uniqueItem, index) in uniqueItems" v-on:click="editType = uniqueItem">{{ uniqueItem }}</li>
							</ul>
							<input class="form-control" type="hidden" name="type" v-model="editID" placeholder="Type">
						</div>
						<div>
							<button class="btn btn-primary btn_control" v-on:click="editCollection">Update</button>
						</div>
					</form>
				  </div>
				</div>
			  </div>
			</div>
			<div class="container">
				<div id="collection_items">
					<h1>{{ title }}</h1>
					<p>{{ summary }}</p>
					<div class="row">
						<div class="col-md-6">
							<select v-on:change="changeType" v-model="type" id="collection_selector">
								<option value="">All</option>
								<option class="capitalize_text" v-for="(uniqueItem, index) in uniqueItems" v-bind:value="uniqueItem">{{ uniqueItem }}</option>
							</select>
						</div>
						<div class="col-md-6 right_align">
							<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#add_collection"><i class="fa fa-plus"></i> Add Collection</button>
						</div>
					</div>
					<div class="row list-item"
					v-for="(item, index) in items" 
					v-show="type === '' || type === item.type"
					v-bind:class="[item.type]"
					>
						<div class="col-md-9" v-bind:class="[item.showDetail ? 'less': 'more']" v-on:click="toggleDetails(item)">
							<h4 class="collection_name"><i class="fa" v-bind:class="[item.showDetail ? 'fa-minus': 'fa-plus']"></i> {{ item.name }}</h4>
							<p v-show="item.showDetail">{{ item.description }}</p>
						</div>
						<div class="col-md-3 collection_btns right_align">
							<button class="btn btn-success" data-toggle="modal" data-target="#edit_collection" v-on:click="editID = item.id; editTitle = item.name; editDescription = item.description; editType = item.type"><i class="fa fa-edit"></i> Edit</button>
							<button class="btn btn-danger" v-on:click="removeItem(item.id)"><i class="fa fa-trash"></i> Delete</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<script src="js/jquery-3.5.1.min.js"></script>
		<script src="bootstrap/js/bootstrap.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/vue@2.5.13/dist/vue.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
		<script src="app.js"></script>
	</body>
</html>